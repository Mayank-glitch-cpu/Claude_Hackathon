export interface GraphSketcherBlueprint {
  templateType: "GRAPH_SKETCHER";
  title: string;
  narrativeIntro: string;
  graph: {
    nodes: Array<{
      id: string;
      label: string;
      x?: number; // 0–1, optional initial position
      y?: number; // 0–1, optional initial position
      required?: boolean; // Must be included in solution
    }>;
    edges: Array<{
      id: string;
      fromNodeId: string;
      toNodeId: string;
      required?: boolean; // Must be included in solution
      label?: string;
    }>;
  };
  tasks: Array<{
    id: string;
    questionText: string;
    requiredToProceed: boolean;
  }>;
}

---

## GRAPH_SKETCHER Data Extraction Instructions

**CRITICAL: Extract ONLY data values. DO NOT include UI hints or animation descriptions.**

### 1. Graph Object - Extract Data Only:

**Extract from component_specifications:**

- **nodes**: Extract node data from component_specifications:
  - **id**: Use descriptive ID based on question (e.g., "node1", "node2", "vertex_a")
  - **label**: Extract exact node label from component_specifications (e.g., "Start", "End", "Node A")
  - **x, y**: Extract normalized positions (0-1) from component_specifications (if applicable)
  - **required**: Extract from component_specifications.game_logic (true if node must be included)
  - **DO NOT** include `type` field - the React component decides how to render nodes

- **edges**: Extract edge data from component_specifications:
  - **id**: Use descriptive ID based on question (e.g., "edge1", "edge2", "connection_ab")
  - **fromNodeId**: Extract source node ID from component_specifications
  - **toNodeId**: Extract target node ID from component_specifications
  - **required**: Extract from component_specifications.game_logic (true if edge must be included)
  - **label**: Extract edge label from component_specifications (if applicable)
  - **DO NOT** include `type` field - the React component decides how to render edges

### 2. Tasks Array - Extract Data Only:

**Extract from component_specifications.game_logic and question_flow:**

- **id**: Use descriptive ID (e.g., "task1", "graph_task")
- **questionText**: Extract from question_flow or component_specifications (e.g., "Draw the graph", "Connect the nodes")
- **requiredToProceed**: Set to true if task must be completed
- **DO NOT** include `type` field - the React component decides task handling
- **DO NOT** include animation descriptions - components have built-in animations

### 3. Title and NarrativeIntro - Extract Data:

**Extract from story_data:**

- **title**: Extract from story_title (e.g., "The Graph Drawing Challenge")
- **narrativeIntro**: Extract from story_context or narrativeIntro (full narrative description)
  - **IMPORTANT**: Include full narrative text as it contains visual metaphors (e.g., "graph network", "node connections", "network diagram") that the React component will use to determine visual styling and theming
  - The component will extract visual metaphors from this text to adapt colors, backgrounds, and graph styling

### 4. Visual Styling Extraction:

**Extract visual metaphors and styling hints from narrativeIntro:**

- **Visual Metaphors**: The narrativeIntro may contain visual metaphors (e.g., "graph network", "node connections", "network diagram") that inform the component's visual design
- **Color Schemes**: Extract color hints from narrative context (e.g., "network blue", "graph gray", "connection green")
- **Theming**: Extract theme context from narrativeIntro (e.g., "network", "mathematical", "technical", "scientific")
- **DO NOT** specify exact colors or styles - the component interprets these metaphors
- **DO NOT** include `animationCues` or animation descriptions - components have built-in animations

## Key Guidelines:

1. **Extract ONLY data values**: node labels, edge connections, question text
2. **DO NOT** include UI hints like `type: "graph"` or `type: "network"`
3. **DO NOT** include `animationCues` objects or animation descriptions
4. **DO NOT** specify how components should render - components are smart and decide this
5. **Include visual metaphors** in narrativeIntro - components extract styling from these
6. The React component will render high-quality UI with built-in animations based on the data you provide

