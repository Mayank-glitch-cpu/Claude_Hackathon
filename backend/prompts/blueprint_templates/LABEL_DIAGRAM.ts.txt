export interface LabelDiagramBlueprint {
  templateType: "LABEL_DIAGRAM";
  title: string;
  narrativeIntro: string;
  diagram: {
    assetPrompt: string;
    assetUrl?: string;
    zones: Array<{
      id: string;
      label: string;
      x: number; // 0–1
      y: number; // 0–1
      radius: number; // 0–1, relative to smallest dimension
    }>;
  };
  labels: Array<{
    id: string;
    text: string;
    isCorrect: boolean;
  }>;
  tasks: Array<{
    id: string;
    type: "label_diagram" | "free_response";
    questionText: string;
    requiredToProceed: boolean;
    rubric?: {
      mustMention?: string[];
      commonMisconceptions?: string[];
    };
  }>;
  animationCues: {
    correctPlacement: string;
    incorrectPlacement: string;
    onSubmitCorrect?: string;
    onSubmitIncorrect?: string;
  };
}

---

## LABEL_DIAGRAM Template Component Documentation

### Available Template Components:

1. **Diagram Components**:
   - **Main Diagram**: Single image or diagram (adapts to question context - anatomy, circuits, systems, etc.)
   - **Label Zones**: Clickable/draggable regions on the diagram
   - **Labels**: Draggable or selectable labels to match with zones

2. **Interactive Elements**:
   - **Draggable Labels**: Labels that can be dragged to zones
   - **Clickable Zones**: Regions on diagram that can be clicked
   - **Submit Button**: Button to submit answers
   - **Reset Button**: Button to reset labels

3. **Feedback Elements**:
   - **Correct Placement Feedback**: Visual feedback when label is correctly placed
   - **Incorrect Placement Feedback**: Visual feedback when label is incorrectly placed
   - **Success Message**: Appears when all labels are correctly placed
   - **Zone Highlighting**: Visual highlighting of zones

## Component Customization Instructions:

### 1. Diagram Object - Customize for Question:

**Extract from component_specifications.visual_components:**

- **assetPrompt**: Extract detailed diagram description from component_specifications.visual_components:
  - Include diagram type (e.g., "anatomy diagram", "circuit diagram", "system diagram")
  - Include dimensions, colors, styling details
  - Include zone positions and labels
  - Example: "Illustrate a detailed human heart anatomy diagram showing chambers, valves, and major vessels. Include clear labels for each anatomical structure with distinct visual regions."

- **zones**: Extract zone configuration from component_specifications:
  - **id**: Use descriptive ID based on question (e.g., "left_ventricle", "aortic_valve", "pulmonary_artery")
  - **label**: Extract zone label from component_specifications (e.g., "Left Ventricle", "Aortic Valve", "Pulmonary Artery")
  - **x, y**: Extract normalized positions (0-1) from component_specifications.visual_components.dimensions
  - **radius**: Extract normalized radius (0-1) from component_specifications.visual_components.dimensions

### 2. Labels Array - Customize for Question:

**Extract from component_specifications.interactive_elements:**

- **id**: Use descriptive ID based on question (e.g., "label1", "label2", "label3")
- **text**: Extract exact label text from component_specifications (e.g., "Heart", "Resistor", "CPU")
- **isCorrect**: Extract correctness mapping from component_specifications.game_logic (which label matches which zone)

### 3. Tasks Array - Customize for Question:

**Extract from component_specifications.game_logic and question_flow:**

- **id**: Use descriptive ID (e.g., "task1", "label_task")
- **type**: Use "label_diagram" for labeling tasks, "free_response" for explanation tasks
- **questionText**: Extract from question_flow or component_specifications (e.g., "Label the parts of the heart", "Explain how the heart pumps blood")
- **requiredToProceed**: Set to true if task must be completed
- **rubric**: Extract from component_specifications.game_logic (mustMention, commonMisconceptions)

### 4. AnimationCues Object - Customize for Question:

**Extract from component_specifications.styling_details.animations:**

- **correctPlacement**: Extract success animation from component_specifications:
  - Describe animation when label is correctly placed (e.g., "Green glow appears around zone, checkmark animation plays")
  - Include duration, easing, visual effects
  - Example: "The zone glows green for 0.5 seconds with a checkmark animation when label is correctly placed."
  
- **incorrectPlacement**: Extract error animation from component_specifications:
  - Describe animation when label is incorrectly placed (e.g., "Red shake animation, X mark appears")
  - Include duration, easing, visual effects
  - Example: "The zone shakes red for 0.3 seconds with an X mark animation when label is incorrectly placed."
  
- **onSubmitCorrect**: Extract success animation from component_specifications:
  - Describe animation when all labels are correctly placed
  - Include visual effects, duration
  - Example: "A success message appears with a celebration animation when all labels are correctly placed."
  
- **onSubmitIncorrect**: Extract error animation from component_specifications:
  - Describe animation when submission has errors
  - Include visual effects, duration
  - Example: "An error message appears with a shake animation when submission has incorrect labels."

### 5. Title and NarrativeIntro - Customize for Question:

**Extract from story_data:**

- **title**: Extract from story_title (e.g., "The Heart Anatomy Challenge")
- **narrativeIntro**: Extract from story_context or narrativeIntro (full narrative description)

## Key Customization Guidelines:

1. **Extract specific values** from component_specifications (zone positions, label text, animation details)
2. **Customize diagram type** based on question context (anatomy for biology, circuit for electronics, etc.)
3. **Customize zone positions** from component_specifications.visual_components.dimensions
4. **Customize label text** with exact text from component_specifications
5. **Customize animations** with detailed descriptions from component_specifications.styling_details
6. **Include production-quality details** that enable rendering a polished, interactive game
7. **Adapt all components** to the specific question while using the template's component set

