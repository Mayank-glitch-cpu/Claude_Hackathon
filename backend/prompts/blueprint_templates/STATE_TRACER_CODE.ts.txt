export interface StateTracerCodeBlueprint {
  templateType: "STATE_TRACER_CODE";
  title: string;
  narrativeIntro: string;
  code: string;
  initialInput?: any;
  steps: Array<{
    index: number; // Line number or step index
    description: string;
    expectedVariables: Record<string, any>;
    expectedDataStructures?: Array<{
      name: string;
      summary: string;
    }>;
  }>;
  tasks: Array<{
    id: string;
    questionText: string;
    stepIndex?: number;
    variableName?: string;
    correctAnswer: string;
    requiredToProceed: boolean;
  }>;
}

---

## STATE_TRACER_CODE Data Extraction Instructions

**CRITICAL: Extract ONLY data values. DO NOT include UI hints or animation descriptions.**

### 1. Code String - Extract Data Only:

**Extract from component_specifications:**

- **code**: Extract exact code text from component_specifications (e.g., "def add(a, b):\n    return a + b")
- **DO NOT** include `type` field - the React component decides how to render code

### 2. InitialInput - Extract Data Only:

**Extract from component_specifications (if applicable):**

- **initialInput**: Extract initial input from component_specifications (e.g., {"a": 5, "b": 3})
- **DO NOT** include `type` field - the React component decides how to render input

### 3. Steps Array - Extract Data Only:

**For each step, extract from component_specifications:**

- **index**: Extract step index from component_specifications (line number or step index)
- **description**: Extract step description from component_specifications (e.g., "After line 2 executes")
- **expectedVariables**: Extract expected variable values from component_specifications.game_logic (e.g., {"a": 5, "b": 3, "result": 8})
- **expectedDataStructures**: Extract expected data structures from component_specifications (if applicable):
  - **name**: Extract data structure name (e.g., "list", "dict", "array")
  - **summary**: Extract data structure summary (e.g., "[1, 2, 3]", "{'key': 'value'}")
- **DO NOT** include `type` field - the React component decides how to render steps

### 4. Tasks Array - Extract Data Only:

**Extract from component_specifications.game_logic and question_flow:**

- **id**: Use descriptive ID (e.g., "task1", "tracer_task")
- **questionText**: Extract from question_flow or component_specifications (e.g., "What is the value of variable x after line 5?")
- **stepIndex**: Extract step index from component_specifications (if applicable)
- **variableName**: Extract variable name from component_specifications (if applicable)
- **correctAnswer**: Extract correct answer from component_specifications.game_logic
- **requiredToProceed**: Set to true if task must be completed
- **DO NOT** include `type` field - the React component decides task handling
- **DO NOT** include animation descriptions - components have built-in animations

### 5. Title and NarrativeIntro - Extract Data:

**Extract from story_data:**

- **title**: Extract from story_title (e.g., "The Code Tracer Challenge")
- **narrativeIntro**: Extract from story_context or narrativeIntro (full narrative description)
  - **IMPORTANT**: Include full narrative text as it contains visual metaphors (e.g., "code editor", "debugger", "tracer tool") that the React component will use to determine visual styling and theming
  - The component will extract visual metaphors from this text to adapt colors, backgrounds, and code editor styling

### 6. Visual Styling Extraction:

**Extract visual metaphors and styling hints from narrativeIntro:**

- **Visual Metaphors**: The narrativeIntro may contain visual metaphors (e.g., "code editor", "debugger", "tracer tool") that inform the component's visual design
- **Color Schemes**: Extract color hints from narrative context (e.g., "code blue", "debugger gray", "tracer green")
- **Theming**: Extract theme context from narrativeIntro (e.g., "programming", "debugging", "technical", "educational")
- **DO NOT** specify exact colors or styles - the component interprets these metaphors
- **DO NOT** include `animationCues` or animation descriptions - components have built-in animations

## Key Guidelines:

1. **Extract ONLY data values**: code text, variable values, question text
2. **DO NOT** include UI hints like `type: "code"` or `type: "editor"`
3. **DO NOT** include `animationCues` objects or animation descriptions
4. **DO NOT** specify how components should render - components are smart and decide this
5. **Include visual metaphors** in narrativeIntro - components extract styling from these
6. The React component will render high-quality UI with built-in animations based on the data you provide

